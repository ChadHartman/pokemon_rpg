<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="assets/css/main.css" rel="stylesheet" type="text/css">
    <link href="assets/css/fontawesome.min.css" rel="stylesheet">
    <link href="assets/css/solid.min.css" rel="stylesheet">
    <title class="capitalize">{{name}}</title>
</head>

<body>
    <div id="content">
        <h1 class="capitalize">{{id}}: {{name}}</h1>
        <div class="pokedex-navigation">
            {{#prev_id}}
            <span class="capitalize">
                <a href="pokemon-{{prev_id}}.html">{{prev_id}}: {{prev_name}}</a>
            </span>
            {{/prev_id}}
            <span class="capitalize">
                {{id}}: {{name}}
            </span>
            {{#next_id}}
            <span class="capitalize">
                <a href="pokemon-{{next_id}}.html">{{next_id}}: {{next_name}}</a>
            </span>
            {{/next_id}}
        </div>
        <div class="stats">
            <h2>Info</h2>
            <div class="stat-info">
                <table class="info-table">
                    <tbody>
                        <tr>
                            <th>Type:</th>
                            <td>
                                <span class="element {{type1}}">{{type1}}</span>
                                {{#type2}}
                                <span class="element {{type2}}">{{type2}}</span>
                                {{/type2}}
                            </td>
                            <th>HP:</th>
                            <td>{{hp}}</td>
                        </tr>
                        <tr>
                            <th>Habitat:</th>
                            <td class="capitalize">{{habitat}}</td>
                            <th>Def:</th>
                            <td> {{roll_def}} </td>
                        </tr>
                        <tr>
                            <th>Capture:</th>
                            <td>{{capture_rate}}-20</td>
                            <th>Sp. Def:</th>
                            <td> {{roll_sp_def}} </td>

                        </tr>
                        <tr>
                            <th>Gender:</th>
                            <td>{{{gender_rate_male}}}</td>
                            <th>Spd:</th>
                            <td> {{roll_spd}} </td>
                        </tr>
                        <tr>
                            <th></th>
                            <td>{{{gender_rate_female}}}</td>
                            <th>Int:</th>
                            <td>{{int}} </td>
                        </tr>
                        <tr>
                            <th>Power:</th>
                            <td colspan="3">
                                <progress max="113" value="{{pwr}}">{{pwr}}</progress>
                                <span>{{pwr}} / 113</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <canvas class="stathex" width="200" height="200"></canvas>
            </div>
            <p>{{description}}</p>
        </div>
        <div class="resistances">
            <h3>Resistances</h3>
            <p class="capitalize">
                {{name}} Defense Receives:
            </p>
            <p>
                {{#resistances}}
                <span class="element {{name}}">{{name}}</span>
                <span>{{value}}</span>
                {{/resistances}}
            </p>
        </div>
        <div class="weaknesses">
            <h3>Weaknesses</h3>
            <p class="capitalize">
                Enemy Attack Receives:
            </p>
            <p>
                {{#weaknesses}}
                <span class="element {{name}}">{{name}}</span>
                <span>{{value}}</span>
                {{/weaknesses}}
            </p>
        </div>
        <div class="abilities">
            <h3>Abilities</h3>
            <table class="info-table">
                <tbody>
                    <tr>
                        <th class="capitalize">{{ability1_name}}</th>
                        <td>{{ability1_description}}</td>
                    </tr>
                    {{#ability2_name}}
                    <tr>
                        <th class="capitalize">{{ability2_name}}</th>
                        <td>{{ability2_description}}</td>
                    </tr>
                    {{/ability2_name}}
                </tbody>
            </table>
        </div>
        {{#ev_trigger}}
        <div class="evolution">
            <h3>Evolution</h3>
            <table class="info-table">
                <tbody>
                    <tr>
                        <th>Trigger</th>
                        <td>{{ev_trigger}}</td>
                    </tr>
                    {{#ev_min_lvl}}
                    <tr>
                        <th>Min Level</th>
                        <td>{{ev_min_lvl}}</td>
                    </tr>
                    {{/ev_min_lvl}}
                    {{#ev_trigger_item}}
                    <tr>
                        <th>Trigger Item</th>
                        <td>{{ev_trigger_item}}</td>
                    </tr>
                    {{/ev_trigger_item}}
                    {{#ev_held_item}}
                    <tr>
                        <th>Held Item</th>
                        <td>{{ev_held_item}}</td>
                    </tr>
                    {{/ev_held_item}}
                    {{#ev_time_of_day}}
                    <tr>
                        <th>Time of Day</th>
                        <td>{{ev_time_of_day}}</td>
                    </tr>
                    {{/ev_time_of_day}}
                    {{#ev_min_happy}}
                    <tr>
                        <th>Min Happiness</th>
                        <td>{{ev_min_happy}}</td>
                    </tr>
                    {{/ev_min_happy}}
                    {{#ev_min_beauty}}
                    <tr>
                        <th>Min Beauty</th>
                        <td>{{ev_min_beauty}}</td>
                    </tr>
                    {{/ev_min_beauty}}
                    {{#ev_rel_phys_stats}}
                    <tr>
                        <th>Relative Physical Stats</th>
                        <td>{{ev_rel_phys_stats}}</td>
                    </tr>
                    {{/ev_rel_phys_stats}}
                    {{#ev_known_move}}
                    <tr>
                        <th>Known Move</th>
                        <td>{{ev_known_move}}</td>
                    </tr>
                    {{/ev_known_move}}
                    {{#ev_party_species_id}}
                    <tr>
                        <th>Party Species</th>
                        <td>{{ev_party_species_id}}-{{ev_party_species_name}}</td>
                    </tr>
                    {{/ev_party_species_id}}
                </tbody>
            </table>
        </div>
        {{/ev_trigger}}
        <div class="moves">
            <h3>Moves</h3>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Move</th>
                        <th>Element</th>
                        <th>Power</th>
                        <th>Accuracy</th>
                        <th>PP</th>
                        <th>Type</th>
                        <th>Target</th>
                        <th>Priority</th>
                    </tr>
                </thead>
                <tbody>
                    {{#moves}}
                    <tr>
                        <td>{{{method}}}{{level}}</td>
                        <td class="capitalize">{{move}}</td>
                        <td>
                            <span class="element {{element}}">{{element}}</span>
                        </td>
                        <td>
                            {{power}}
                            {{^power}}-{{/power}}
                        </td>
                        <td>
                            {{#accuracy}}{{accuracy}}-20{{/accuracy}}
                            {{^accuracy}}-{{/accuracy}}
                        </td>
                        <td>{{pp}}</td>
                        <td>
                            <span class="dmg-type {{dmg_type}}">{{dmg_type}}</span>
                        </td>
                        <td>{{target}}</td>
                        <td>{{priority}}</td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td colspan="8" class="description">
                            {{description}}
                            {{#effect_chance}}
                            ({{effect_chance}}-20)
                            {{/effect_chance}}
                        </td>
                    </tr>
                    {{/moves}}
                </tbody>
            </table>
        </div>
    </div>
    <script src="assets/js/jquery-3.4.1.slim.min.js"></script>
    <script src="assets/js/stathex.js"></script>
    <script>
        $("document").ready(() => {
            // parseInt used so the formatting validation is not thrown off by mustache
            app.stathex.setup([{
                "label": "HP",
                "value": parseInt("{{hp}}"),
                "max": 100
            }, {
                "label": "S. ATK",
                "value": parseInt("{{sp_atk}}"),
                "max": 154
            }, {
                "label": "S. DEF",
                "value": parseInt("{{sp_def}}"),
                "max": 230
            }, {
                "label": "SPD",
                "value": parseInt("{{spd}}"),
                "max": 160
            }, {
                "label": "DEF",
                "value": parseInt("{{def}}"),
                "max": 230
            }, {
                "label": "ATK",
                "value": parseInt("{{atk}}"),
                "max": 160
            }]);
        });
    </script>

</html>